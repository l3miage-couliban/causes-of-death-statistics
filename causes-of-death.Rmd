---
title: "Causes of death in the world"
author: "N'Djo-Soro Coulibaly, Ciré Keïta, Higo Aragao, Thi Tran"
date: "2024-03-05"
output:
  pdf_document: default
  html_document:
    df_print: paged
---

## Context of the problem
  Il est question d'analyser des données concernant les causes de mortalité dans le monde. Pour mener à bien cette analyse, nous avons defini des questions sur lesquelles travailler:
  2) Les 10 principales causes de mort dans le monde ? 
    - Quelle décision prendre à partir du résultat
  3) Les 5 principales causes sur chaque continent ? 
  4) L'évolution des décès au fil des années (2007 - 2019) ?
  5) representation graphique map
  6) Ajout des données démographiques


## Comment les données ont-elles été recuillies ?
Les données proviennent de Our World In Data
Source: https://www.kaggle.com/datasets/ivanchvez/causes-of-death-our-world-in-data



D'autres questions pourront être ajoutées au fur et à mesure pour plus de précisions et d'interprétations


## Read Dataset

```{r}
library(tidyverse)

CausesData <- read_csv("20222703-causes-f-death-clean-output-v2.0.csv", show_col_types = FALSE) %>%
  rename(iso_code=Code) %>%
  filter(Year %in% 1990:2019) %>%
  filter(!is.na(iso_code));
```


```{r}
CountriesData <- read_csv("owid-co2-data.csv") %>%
  select(year, iso_code, population, gdp) %>%
  filter(year %in% 1990:2019) %>%
  filter(!is.na(iso_code));
```

```{r}
ContinentsData <- read_csv("continents2.csv") %>%
  select('alpha-3', region) %>%
  rename(iso_code='alpha-3') %>%
  filter(!is.na(region));
```

## join both dataframes
```{r}
#data <- merge(CausesData, CountriesData, by="iso_code");
data <- left_join(CausesData, CountriesData, by=c("iso_code"="iso_code", "Year"="year")) %>%
  left_join(ContinentsData, by=c("iso_code"="iso_code")) %>%
  arrange(Year)
```


```{r}
library(dplyr)
library(scales)

#Americas region et gdp
region_america <- data %>%
  filter(region == "Americas", Year != 2019)
gdp_america <- region_america %>%
  group_by(Year) %>%
  summarise(gdp_total = sum(gdp, na.rm = TRUE)/10000000000)

#Africa region et gdp
region_africa <- data %>%
  filter(region == "Africa", Year != 2019)
gdp_africa <- region_africa %>%
  group_by(Year) %>%
  summarise(gdp_total = sum(gdp, na.rm = TRUE)/10000000000)

#Asia region et gdp
region_asia <- data %>%
  filter(region == "Asia",Year != 2019)
gdp_asia <- region_asia %>%
  group_by(Year) %>%
  summarise(gdp_total = sum(gdp, na.rm = TRUE)/1000000000)

#Europe region et gdp
region_europe <- data %>%
  filter(region == "Europe",Year != 2019)
gdp_europe <- region_europe %>%
  group_by(Year) %>%
  summarise(gdp_total = sum(gdp, na.rm = TRUE)/1000000000)

#Oceania region et gdp
region_oceania <- data %>%
  filter(region == "Oceania",Year != 2019)
gdp_oceania <- region_oceania %>%
  group_by(Year) %>%
  summarise(gdp_total = sum(gdp, na.rm = TRUE)/1000000000)
```

```{r}
#Les Graphiques

#Afrique 
library(ggplot2)
ggplot(gdp_africa, aes(x = Year, y = gdp_total)) +
  geom_line() +
  labs(x = "Annee", y = "gdp Total", color = "Region") +
  theme_minimal() +
  ggtitle("")+
  scale_x_continuous(breaks = seq(1990, 2018, by = 2))
```
```{r}
#Americas 
library(ggplot2)
ggplot(gdp_america, aes(x = Year, y = gdp_total)) +
  geom_line() +
  labs(x = "Annee", y = "gdp Total", color = "Region") +
  theme_minimal() +
  ggtitle("")+
  scale_x_continuous(breaks = seq(1990, 2018, by = 2))
```
```{r}
#Oceania
library(ggplot2)
ggplot(gdp_oceania, aes(x = Year, y = gdp_total)) +
  geom_line() +
  labs(x = "Annee", y = "gdp Total", color = "Region") +
  theme_minimal() +
  ggtitle("")+
  scale_x_continuous(breaks = seq(1990, 2018, by = 2))
```
```{r}
#Europe 
library(ggplot2)
ggplot(gdp_europe, aes(x = Year, y = gdp_total)) +
  geom_line() +
  labs(x = "Annee", y = "gdp Total", color = "Region") +
  theme_minimal() +
  ggtitle("")+
  scale_x_continuous(breaks = seq(1990, 2018, by = 2))
```

```{r}
#Asia
library(ggplot2)
ggplot(gdp_asia, aes(x = Year, y = gdp_total)) +
  geom_line() +
  labs(x = "Annee", y = "gdp Total", color = "Region") +
  theme_minimal() +
  ggtitle("")+
  scale_x_continuous(breaks = seq(1990, 2018, by = 2))
```
